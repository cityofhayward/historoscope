<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>Hayward Historic Maps</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

  <!-- Load Leaflet from CDN-->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
  <link rel="stylesheet" href="css/leaflet-measure.css" />

  <link rel="stylesheet" href="css/app.css" />
 <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.css"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sidr/2.2.1/stylesheets/jquery.sidr.dark.min.css">
  <link href="http://maps.hayward-ca.gov/resources/templates/versatile-header/versatile-header/css/header.css" rel="stylesheet">


  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet-src.js"></script>

  <script src="http://maps.hayward-ca.gov/analytics/google-analytics.js"></script>

  <!-- Load Esri Leaflet from CDN -->
  <script src="https://unpkg.com/esri-leaflet@2.1.3"></script>
      <script src="js/L.Map.Sync.js"></script>
          <script src="js/leaflet-measure.js"></script>

    <!-- Esri Leaflet Geocoder -->
   <link rel="stylesheet" href="https://unpkg.com/esri-leaflet-geocoder@2.2.9/dist/esri-leaflet-geocoder.css">
   <script src="https://unpkg.com/esri-leaflet-geocoder@2.2.8"></script>

</head>
<body>
      <header id="site-header">

    <div id="mobile-bar">
      <div class="logo-mobile">
        <img src="http://maps.hayward-ca.gov/resources/templates/versatile-header/versatile-header/img/logo-hayward-white.png" alt="" />
      </div>
      <a href="#" class="menu-trigger mobile-trigger"><i class="zmdi zmdi-menu"></i></a>
    </div>

    <!-- Start - Remove Entire Utility Area -->
    <div id="top-bar">
      <div class="liner">

        <!-- Start - Remove Left Utility Area -->
        <div class="left">
          <div class="navigation-portal">
            <ul class="portals menu">
              <li><a href="http://www.hayward-ca.gov" target="_blank">Visit Hayward-ca.gov</a></li>
            </ul>
          </div>
        </div>
        <!-- End - Remove Left Utility Area -->

        <!-- Start - Remove Right Utility Area -->
        <div class="right">
          <div class="navigation-utilities">
            <ul class="utilities menu">
         <!--    <li><a href="#">User Settings</a></li>
              <li><a href="#">Website Feedback</a></li>-->
              <li><a href="mailto:haywardgis.s3j82@zapiermail.com?Subject=Historoscope" target="_top">Contact Hayward GIS</a></li>
            </ul>
          </div>
        </div>
        <!-- End - Remove Right Utility Area -->

        <div class="clear"></div>

      </div>
    </div>
    <!-- End - Remove Entire Utility Area -->

 <div id="main-header">
      <div class="liner">
        <div class="logo-desktop">
          <a href="#">
            <img class="logo-mark" src="http://maps.hayward-ca.gov/resources/templates/versatile-header/versatile-header/img/logo-hayward-mark.png" alt="">
            <div class="logo-name">
              <img class="logo-title" src="http://maps.hayward-ca.gov/resources/templates/versatile-header/versatile-header/img/logo-hayward-text.png" alt="" />
            </div>
          </a>
        </div>
     <!--      <div class="navigation-primary">
          <ul class="primary menu">
            <li><a href="#">About the Explorer</a></li>
            <li><a href="#">Using the Tool</a></li>
            <li><a href="#">General Zoning Information</a></li>
          </ul>
        </div>-->
        <div class="clear"></div>
      </div>
    </div>

    <!-- Begin - Remove Sub Header -->
    <div class="sub-header">
      <div class="liner">
        <strong>Historoscope:</strong> Browse around to investigate the development of Hayward throughout the years.
      </div>
    </div>
    <!-- End - Remove Sub Header -->

  </header>

  <div id="sidr-right"></div>

  <div id="map1" style="float: left; width: 50%;">
  <div id="basemaps-left-wrapper" class="leaflet-bar">
    <select name="basemaps-left" id="basemapsLeft" onChange="changeBasemap(basemapsLeft)">
		<option value="Streets">Streets</option>
        <option selected="selected" value="leftLayer2014A">2014 Aerial</option>
		<option value="leftLayer2011A">2011 Aerial</option>
		<option value="leftLayer2009A">2009 Aerial</option>
		<option value="leftLayer2006A">2006 Aerial</option>
		<option value="leftLayer2004A">2004 Aerial</option>
		<option value="leftLayer2003A">2003 Aerial</option>
		<option value="leftLayer2002A">2002 Aerial</option>
		<option value="leftLayer1999A">1999 Aerial</option>
		<option value="leftLayer1992A">1992 Aerial</option>
		<option value="leftLayer1985A">1985 Aerial</option>
		<option value="leftLayer1968A">1968 Aerial</option>
		<option value="leftLayer1966S">1966 Sanborn</option>
		<option value="leftLayer1961S">1961 Sanborn</option>
        <option value="leftLayer1957S">1957 Sanborn</option>
		<option value="leftLayer1954A">1954 Aerial</option>
		<option value="leftLayer1953S">1953 Sanborn</option>
		<option value="leftLayer1950S">1950 Sanborn</option>
		<option value="leftLayer1948S">1948 Sanborn</option>
		<option value="leftLayer1923S">1923 Sanborn</option>
		<option value="leftLayer1907S">1907 Sanborn</option>
		<option value="leftLayer1903S">1903 Sanborn</option>
		<option value="leftLayer1896S">1896 Sanborn</option>
		<option value="leftLayer1893S">1893 Sanborn</option>

    </select>
  </div>
      </div>

  <div id="map2" style="float: left; width: 50%;">
  <div id="basemaps-right-wrapper" class="leaflet-bar">
    <select name="basemaps-right" id="basemapsRight" onChange="changeBasemap(basemapsRight)">
		<option value="Streets">Streets</option>
        <option value="rightLayer2014A">2014 Aerial</option>
		<option value="rightLayer2011A">2011 Aerial</option>
		<option value="rightLayer2009A">2009 Aerial</option>
		<option value="rightLayer2006A">2006 Aerial</option>
		<option value="rightLayer2004A">2004 Aerial</option>
		<option value="rightLayer2003A">2003 Aerial</option>
		<option value="rightLayer2002A">2002 Aerial</option>
		<option value="rightLayer1999A">1999 Aerial</option>
		<option value="rightLayer1992A">1992 Aerial</option>
		<option value="rightLayer1985A">1985 Aerial</option>
		<option selected="selected" value="rightLayer1968A">1968 Aerial</option>
		<option value="rightLayer1966S">1966 Sanborn</option>
		<option value="rightLayer1961S">1961 Sanborn</option>
        <option value="rightLayer1957S">1957 Sanborn</option>
		<option value="rightLayer1954A">1954 Aerial</option>
		<option value="rightLayer1953S">1953 Sanborn</option>
		<option value="rightLayer1950S">1950 Sanborn</option>
		<option value="rightLayer1948S">1948 Sanborn</option>
		<option value="rightLayer1923S">1923 Sanborn</option>
		<option value="rightLayer1907S">1907 Sanborn</option>
		<option value="rightLayer1903S">1903 Sanborn</option>
		<option value="rightLayer1896S">1896 Sanborn</option>
		<option value="rightLayer1893S">1893 Sanborn</option>

    </select>
  </div>
      </div>
<script>
    var mapLeft = L.map('map1').setView([37.67, -122.09], 15);
    var measureControlLeft = new L.Control.Measure();
    measureControlLeft.addTo(mapLeft);

  //  new L.Control.GeoSearch({
  //      provider: new L.GeoSearch.Provider.Google()
  //  }).addTo(mapLeft);

    // create the geocoding control and add it to the map
      var searchControl = L.esri.Geocoding.geosearch().addTo(mapLeft);

      // create an empty layer group to store the results and add it to the map
      var results = L.layerGroup().addTo(mapLeft);

      // listen for the results event and add every result to the map
      searchControl.on("results", function(data) {
          results.clearLayers();
          for (var i = data.results.length - 1; i >= 0; i--) {
              results.addLayer(L.marker(data.results[i].latlng));
          }
      });

    // Create new crosshair for the Left map
    var crosshairIcon = L.icon({
        iconUrl: 'images/crosshairs.svg',
        iconSize: [200, 200], // size of the icon
        iconAnchor: [100, 100] // point of the icon which will correspond to marker's location
    });

    // Add crosshair to left map
    crosshairL = new L.marker(mapLeft.getCenter(), { icon: crosshairIcon, clickable: false });
    crosshairL.addTo(mapLeft);

    //create tile layers for left map. Not sure why need to do this for left or right. Think I (Tim) had some error doing it that way
    var leftLayer2014A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2014_3inch/MapServer",
        maxZoom: 21
    });

    var leftLayer2011A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2011_12inch/MapServer",
        maxZoom: 21
    });

    var leftLayer2009A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2009_6inch/MapServer",
        maxZoom: 21
    });

    var leftLayer2006A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2006_4inch/MapServer",
        maxZoom: 21
    });

    var leftLayer2004A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2004_6inch/MapServer",
        maxZoom: 21
    });

    var leftLayer2003A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2003_12inch/MapServer",
        maxZoom: 21
    });

    var leftLayer2002A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2002_24inch/MapServer",
        maxZoom: 21
    });

    var leftLayer1999A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_1999_6inch/MapServer",
        maxZoom: 21
    });

    var leftLayer1992A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_1992_12inch/MapServer",
        maxZoom: 21
    });
    var leftLayer1985A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_1985_21inch/MapServer",
        maxZoom: 21
    });

    var leftLayer1968A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_1968_12inch/MapServer",
        maxZoom: 21
    });

    var leftLayer1966S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1966/MapServer",
        maxZoom: 21
    });

    var leftLayer1961S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1961/MapServer",
        maxZoom: 21
    });

    var leftLayer1957S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1957/MapServer",
        maxZoom: 21
    });

    var leftLayer1954A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/Aerial_Imagery_1954/MapServer",
        maxZoom: 21
    });

    var leftLayer1953S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1953/MapServer",
        maxZoom: 21
    });

    var leftLayer1950S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1950/MapServer",
        maxZoom: 21
    });

    var leftLayer1948S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1948/MapServer",
        maxZoom: 21
    });

    var leftLayer1923S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1923/MapServer",
        maxZoom: 21
    });

    var leftLayer1907S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1907/MapServer",
        maxZoom: 21
    });

    var leftLayer1903S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1903/MapServer",
        maxZoom: 21
    });

    var leftLayer1896S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1896/MapServer",
        maxZoom: 21
    });

    var leftLayer1893S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1893/MapServer",
        maxZoom: 21
    });

    var leftLayer = leftLayer2014A;
    mapLeft.addLayer(leftLayer);

    var mapRight = L.map('map2').setView([37.67, -122.09], 15);
    var measureControlRight = new L.Control.Measure();
    measureControlRight.addTo(mapRight);

    // Add in a crosshair for the Right map
    crosshairR = new L.marker(mapRight.getCenter(), { icon: crosshairIcon, clickable: false });
    crosshairR.addTo(mapRight);

    var rightLayer2014A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2014_3inch/MapServer",
        maxZoom: 21
    });

    var rightLayer2011A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2011_12inch/MapServer",
        maxZoom: 21
    });

    var rightLayer2009A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2009_6inch/MapServer",
        maxZoom: 21
    });

    var rightLayer2006A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2006_4inch/MapServer",
        maxZoom: 21
    });

    var rightLayer2004A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2004_6inch/MapServer",
        maxZoom: 21
    });

    var rightLayer2003A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2003_12inch/MapServer",
        maxZoom: 21
    });

    var rightLayer2002A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_2002_24inch/MapServer",
        maxZoom: 21
    });

    var rightLayer1999A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_1999_6inch/MapServer",
        maxZoom: 21
    });

    var rightLayer1992A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_1992_12inch/MapServer",
        maxZoom: 21
    });
    var rightLayer1985A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_1985_21inch/MapServer",
        maxZoom: 21
    });

    var rightLayer1968A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/AerialPhoto_1968_12inch/MapServer",
        maxZoom: 21
    });

    var rightLayer1966S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1966/MapServer",
        maxZoom: 21
    });

    var rightLayer1961S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1961/MapServer",
        maxZoom: 21
    });

    var rightLayer1957S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1957/MapServer",
        maxZoom: 21
    });

    var rightLayer1954A = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/Aerial_Imagery_1954/MapServer",
        maxZoom: 21
    });

    var rightLayer1953S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1953/MapServer",
        maxZoom: 21
    });

    var rightLayer1950S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1950/MapServer",
        maxZoom: 21
    });

    var rightLayer1948S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1948/MapServer",
        maxZoom: 21
    });

    var rightLayer1923S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1923/MapServer",
        maxZoom: 21
    });

    var rightLayer1907S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1907/MapServer",
        maxZoom: 21
    });

    var rightLayer1903S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1903/MapServer",
        maxZoom: 21
    });

    var rightLayer1896S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1896/MapServer",
        maxZoom: 21
    });

    var rightLayer1893S = L.esri.tiledMapLayer({
        url: "http://maps.hayward-ca.gov/arcgis/rest/services/Ext_Basemaps/SanbornFireInsurance_1893/MapServer",
        maxZoom: 21
    });

    var rightLayer = rightLayer1968A;
    mapRight.addLayer(rightLayer);

    function setBasemap(basemap, mapSide) {
        if (mapSide === "basemapsLeft") {
            mapLeft.removeLayer(leftLayer);
            if (basemap === 'Streets') {
                leftLayer = L.esri.basemapLayer(basemap);
            } else {
                leftLayer = eval(basemap);
            }
            mapLeft.addLayer(leftLayer);
        } else if (mapSide === "basemapsRight") {
            mapRight.removeLayer(rightLayer);
            if (basemap === 'Streets') {
                rightLayer = L.esri.basemapLayer(basemap);
            } else {
                rightLayer = eval(basemap);
            }
            mapRight.addLayer(rightLayer);
        }
    }

  function changeBasemap(basemaps) {
        var whichMap = basemaps.id;
        console.log(whichMap);
        console.log("index = " + document.getElementById('basemapsRight').value);
        //Need to force this to set because IE doesn't recognize normal dropdown onchange events
      //  var thisIndexToSet = document.getElementById("basemapsRight").selectedIndex;
      //  basemaps.options[thisIndexToSet].selected = true;
      if (whichMap === "basemapsRight") {
          document.getElementById("basemapsLeft").focus();
      } else {
          document.getElementById("basemapsRight").focus();
      }

      //  document.activeElement.blur();
        console.log(basemaps);
        var basemap = basemaps.value;
        console.log(basemap);
        setBasemap(basemap, whichMap);
  }


    mapLeft.sync(mapRight);

    mapRight.sync(mapLeft);


    mapLeft.on('zoomend', function () {
        console.log(mapLeft.getZoom());
    });

    // Move the crosshair to the center of the map when the user pans
    mapLeft.on('move', function (e) {
        crosshairL.setLatLng(mapLeft.getCenter());
        crosshairR.setLatLng(mapRight.getCenter());
        document.getElementById("basemapsRight").focus();
    });
    // Move the crosshair to the center of the map when the user pans
    mapRight.on('move', function (e) {
        crosshairR.setLatLng(mapRight.getCenter());
        crosshairL.setLatLng(mapLeft.getCenter());
        document.getElementById("basemapsLeft").focus();
    });
</script>


      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sidr/2.2.1/jquery.sidr.min.js"></script>

  <script>
    $(document).ready(function() {
      // Activate Sidr Mobile Menu
      $('.menu-trigger').sidr({
        name: 'sidr-right',
        side: 'right',
        // renaming: false,
        source: '.sub-header, .navigation-primary, .navigation-utilities, .navigation-portal'
      });
      // Close sidr menu if clicked outside {optional}
      $(document).bind("click", function() {
        $.sidr('close', 'sidr-right');
      });

      if ($(".sidr-inner:contains('undefined')").size()) {
        $(".sidr-inner").each(function() {
          if ($(this).html() === "undefined") {
            $(this).hide();
          }
        });
      }

    });
  </script>

</body>
</html>
